## 编译

1. 使用 cargo build --release 命令进行编译，如果有跨平台需求，可带上相应平台参数进行交叉编译，除非迫不得已，本人不建议交叉编译，哪怕是用虚拟机也好过交叉编译，具体缘由后续会新开篇阐述。
2. 编译完成后生成的可执行二进制文件在 /target/release/ 目录下，文件名同 Cargo.toml 下的name 字段，Window 下为 xxx.exe，Linux 下直接为 xxx，没有尾缀。

## 事项

1. 使用你喜欢的终端工具连接你的服务器，进入你想要部署项目的目录，将刚编译好的二进制文件复制过去，如果你的项目用到了.env 配置文件，sqlite 等软件型数据库 xxx.db 文件，或者还用到了static、templates、files 等静态文件或目录，那么你需要将它们都复制过去，目录结构同你本地开发环境目录结构。
2. 注意：src 目录下的文件和其他 .toml 等文件不用复制，它们已经编译到二进制文件里了，熟悉 golang 的应该不难理解。

## 部署命令

- 假设你编译后的文件为：blog，在要部署的目录下运行命令：sudo nohup ./blog &

```plaintext
//需要重新部署的话，找到对应端口的PID，停掉进程后再运行部署命令，以80端口为例：

//查询PID
lsof -i:80

//假设查询到的PID为2023，停止进程
kill -9 2023

//如果提示没有权限
chmod 777 blog

//后台运行及部署操作
sudo nohup ./blog &
```